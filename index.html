<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cracked Tiers Leaderboard</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.3/dist/tailwind.min.css" rel="stylesheet">

<style>
/* ===== Scrollbar Styling ===== */
::-webkit-scrollbar {
  width: 12px;
}
::-webkit-scrollbar-track {
  background: #1a1a1a;
  border-radius: 10px;
}
::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #ff0000, #660000);
  border-radius: 10px;
  border: 2px solid #1a1a1a;
}
::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #ff4444, #990000);
}

/* ===== Player Card Styling ===== */
.player-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #111827;
  margin: 8px 0;
  padding: 12px;
  border-radius: 12px;
  transition: 0.3s;
}
.player-row:hover {
  background: #1f2937;
  transform: scale(1.01);
}
.player-info {
  display: flex;
  align-items: center;
  gap: 12px;
}
.player-info img.skin {
  width: 48px;
  height: 48px;
  border-radius: 6px;
}
.gamemodes {
  display: flex;
  gap: 10px;
}
.gamemode-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 10px;
}
.gamemode-item img {
  width: 24px;
  height: 24px;
}
.tier-badge {
  font-size: 10px;
  background: #dc2626;
  color: #fff;
  padding: 2px 6px;
  border-radius: 6px;
  margin-top: 2px;
}

/* ===== Modal ===== */
#modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: none;
}
#modal {
  position: fixed;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  background: #1f2937;
  padding: 20px;
  border-radius: 12px;
  color: white;
  width: 300px;
  display: none;
}
#modal.active, #modal-backdrop.active {
  display: block;
}
</style>
</head>
<body class="bg-gray-900 text-white">

<div class="p-6 max-w-4xl mx-auto">
  <h1 class="text-3xl font-bold text-red-500 mb-4">ðŸ”¥ Cracked Tiers Leaderboard ðŸ”¥</h1>

  <!-- Search -->
  <input id="searchInput" type="text" placeholder="Search player..."
    class="w-full p-2 rounded mb-4 text-black">

  <!-- Filters -->
  <div id="filterBar" class="flex gap-3 flex-wrap mb-6"></div>

  <!-- Players Container -->
  <div id="players-container"></div>
</div>

<!-- Modal -->
<div id="modal-backdrop"></div>
<div id="modal">
  <h2 id="modalName" class="text-xl font-bold"></h2>
  <p id="modalRegion"></p>
  <p id="modalOverall"></p>
  <div class="flex justify-center my-2">
    <img id="modalSkin" src="" class="rounded">
  </div>
  <div id="modalGamemodes" class="flex gap-3 flex-wrap"></div>
  <button onclick="closeModal()" class="mt-4 bg-red-600 px-3 py-1 rounded">Close</button>
</div>

<script>
// ----------------------------
// Players (10 total)
// ----------------------------
const players = [
  { position: 1, name: "Brainless100", region: "AS", overall: 450, gamemodes: { Axe: "GM", Nethpot: "CM", Mace: "HT1", Tank: "LT2", UHC: "GM", Crystal: "CM" } },
  { position: 2, name: "Player2", region: "EU", overall: 320, gamemodes: { Axe: "HT1", Nethpot: "-", Mace: "LT1", Tank: "-", UHC: "HT2", Crystal: "-" } },
  { position: 3, name: "Player3", region: "NA", overall: 280, gamemodes: { Axe: "-", Nethpot: "HT2", Mace: "CM", Tank: "-", UHC: "-", Crystal: "HT1" } },
  { position: 4, name: "Player4", region: "AS", overall: 260, gamemodes: { Axe: "CM", Nethpot: "-", Mace: "-", Tank: "HT1", UHC: "-", Crystal: "-" } },
  { position: 5, name: "Player5", region: "EU", overall: 240, gamemodes: { Axe: "-", Nethpot: "-", Mace: "LT1", Tank: "-", UHC: "-", Crystal: "-" } },
  { position: 6, name: "Player6", region: "NA", overall: 200, gamemodes: { Axe: "-", Nethpot: "-", Mace: "-", Tank: "-", UHC: "LT1", Crystal: "-" } },
  { position: 7, name: "Player7", region: "EU", overall: 220, gamemodes: { Axe: "HT1", Nethpot: "-", Mace: "-", Tank: "-", UHC: "-", Crystal: "-" } },
  { position: 8, name: "Player8", region: "AS", overall: 190, gamemodes: { Axe: "-", Nethpot: "HT2", Mace: "-", Tank: "-", UHC: "-", Crystal: "-" } },
  { position: 9, name: "Player9", region: "EU", overall: 210, gamemodes: { Axe: "-", Nethpot: "-", Mace: "-", Tank: "LT1", UHC: "-", Crystal: "-" } },
  { position: 10, name: "Player10", region: "NA", overall: 170, gamemodes: { Axe: "-", Nethpot: "-", Mace: "-", Tank: "-", UHC: "-", Crystal: "HT1" } }
];

// ----------------------------
// Gamemode Icons
// ----------------------------
const gamemodeIcons = {
  Overall: "https://cdn-icons-png.flaticon.com/128/25/25231.png",
  Axe: "https://cdn-icons-png.flaticon.com/128/2972/2972185.png",
  Nethpot: "https://cdn-icons-png.flaticon.com/128/820/820374.png",
  Mace: "https://cdn-icons-png.flaticon.com/128/3523/3523063.png",
  Tank: "https://cdn-icons-png.flaticon.com/128/744/744465.png",
  UHC: "https://cdn-icons-png.flaticon.com/128/919/919853.png",
  Crystal: "https://cdn-icons-png.flaticon.com/128/854/854894.png"
};

// ----------------------------
// Filters
// ----------------------------
const container = document.getElementById("players-container");
const filterBar = document.getElementById("filterBar");
const filters = ["Overall","Axe","Nethpot","Mace","Tank","UHC","Crystal"];

filters.forEach(f => {
  const btn = document.createElement("div");
  btn.className = "px-3 py-1 rounded bg-red-600 cursor-pointer hover:bg-red-800";
  let count = players.filter(p => f==="Overall" ? true : (p.gamemodes[f]!=="-")).length;
  btn.innerHTML = `${f} <span class="text-gray-200 text-sm">(${count})</span>`;
  btn.addEventListener("click", () => filterLeaderboard(f));
  filterBar.appendChild(btn);
});

// ----------------------------
// Render Leaderboard
// ----------------------------
function getSkinUrl(name){
  // If it's a fake name, return default Steve
  return (name.startsWith("Player")) 
    ? "https://mc-heads.net/avatar/Steve/64"
    : `https://mc-heads.net/avatar/${name}/64`;
}

function renderLeaderboard(selectedMode="Overall"){
  container.innerHTML = "";
  let list = [...players];
  if(selectedMode==="Overall"){
    list.sort((a,b)=>b.overall - a.overall);
  }

  list.forEach((player,idx) => {
    const row = document.createElement("div");
    row.className = "player-row";

    const left = document.createElement("div");
    left.className = "player-info";
    let rankText = selectedMode==="Overall" ? 
      (player.overall>=400?"Grand Master":player.overall>=250?"Combat Master":"Combat Ace") 
      : player.gamemodes[selectedMode];
    left.innerHTML = `
      <div class="font-bold text-yellow-400">${player.position}.</div>
      <img src="${getSkinUrl(player.name)}" alt="${player.name}" class="skin">
      <div class="player-name">
        <div class="name font-bold">${player.name} <span class="text-gray-400">[${player.region}]</span></div>
        ${selectedMode==="Overall"?`<div class="overall">${player.overall} pts</div>`:""}
        <div class="rank text-sm">${rankText}</div>
      </div>
    `;

    const right = document.createElement("div");
    right.className = "gamemodes";
    for(const [mode,tier] of Object.entries(player.gamemodes)){
      const gm = document.createElement("div");
      gm.className = "gamemode-item";
      gm.innerHTML = `<img src="${gamemodeIcons[mode]}" alt="${mode}"><span class="tier-badge">${tier}</span>`;
      right.appendChild(gm);
    }

    row.appendChild(left);
    row.appendChild(right);
    container.appendChild(row);

    row.addEventListener("click",()=>openModal(player));
  });
}

// ----------------------------
// Modal
// ----------------------------
const modal = document.getElementById("modal");
const backdrop = document.getElementById("modal-backdrop");
const modalName = document.getElementById("modalName");
const modalRegion = document.getElementById("modalRegion");
const modalOverall = document.getElementById("modalOverall");
const modalGamemodes = document.getElementById("modalGamemodes");
const modalSkin = document.getElementById("modalSkin");

function openModal(player){
  modalSkin.src = getSkinUrl(player.name).replace("/64","/128");
  modalName.textContent = player.name;
  modalRegion.textContent = `[${player.region}]`;
  modalOverall.textContent = "Overall: " + player.overall + " points";
  modalGamemodes.innerHTML = "";
  for(const [mode,tier] of Object.entries(player.gamemodes)){
    const gm = document.createElement("div");
    gm.className = "gamemode-item";
    gm.innerHTML = `<img src="${gamemodeIcons[mode]}" alt="${mode}"><span class="tier-badge">${tier}</span>`;
    modalGamemodes.appendChild(gm);
  }
  modal.classList.add("active");
  backdrop.classList.add("active");
}
function closeModal(){
  modal.classList.remove("active");
  backdrop.classList.remove("active");
}

// ----------------------------
// Search
// ----------------------------
document.getElementById("searchInput").addEventListener("keypress",function(e){
  if(e.key==="Enter"){
    const name = e.target.value.trim();
    const player = players.find(p=>p.name.toLowerCase()===name.toLowerCase());
    if(player) openModal(player);
    else alert("Player not found!");
    e.target.value="";
  }
});

// ----------------------------
// Initial Render
// ----------------------------
renderLeaderboard();
</script>
</body>
</html>
